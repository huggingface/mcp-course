# MCP SDK

Model Context Protocolã¯ã€JavaScriptã€Pythonã€ãã®ä»–ã®è¨€èªå‘ã‘ã®å…¬å¼SDKã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼ã‚’ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã®SDKã¯ä½ãƒ¬ãƒ™ãƒ«ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«è©³ç´°ã‚’å‡¦ç†ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ©Ÿèƒ½æ§‹ç¯‰ã«é›†ä¸­ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

## SDKã®æ¦‚è¦

ä¸¡SDKã¯ã€å…ˆã»ã©èª¬æ˜ã—ãŸMCPãƒ—ãƒ­ãƒˆã‚³ãƒ«ä»•æ§˜ã«å¾“ã£ã¦ã€åŒæ§˜ã®ã‚³ã‚¢æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã¯ä»¥ä¸‹ã‚’å‡¦ç†ã—ã¾ã™ï¼š

- ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ¬ãƒ™ãƒ«ã®é€šä¿¡
- æ©Ÿèƒ½ã®ç™»éŒ²ã¨ç™ºè¦‹
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³/ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
- æ¥ç¶šç®¡ç†
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## ã‚³ã‚¢ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã®å®Ÿè£…

ä¸¡SDKã‚’ä½¿ç”¨ã—ã¦ã‚³ã‚¢ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ï¼ˆãƒ„ãƒ¼ãƒ«ã€ãƒªã‚½ãƒ¼ã‚¹ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã®ãã‚Œãã‚Œã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã‚’æ¢æ±‚ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

<hfoptions id="server-implementation">
<hfoption id="python">

<Youtube id="exzrb5QNUis" />

```python
from mcp.server.fastmcp import FastMCP

# Create an MCP server
mcp = FastMCP("Weather Service")

# Tool implementation
@mcp.tool()
def get_weather(location: str) -> str:
    """Get the current weather for a specified location."""
    return f"Weather in {location}: Sunny, 72Â°F"

# Resource implementation
@mcp.resource("weather://{location}")
def weather_resource(location: str) -> str:
    """Provide weather data as a resource."""
    return f"Weather data for {location}: Sunny, 72Â°F"

# Prompt implementation
@mcp.prompt()
def weather_report(location: str) -> str:
    """Create a weather report prompt."""
    return f"""You are a weather reporter. Weather report for {location}?"""


# Run the server
if __name__ == "__main__":
    mcp.run()
```

ã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã—ãŸã‚‰ã€ã‚µãƒ¼ãƒãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦èµ·å‹•ã§ãã¾ã™ã€‚

```bash
mcp dev server.py
```

</hfoption>
<hfoption id="javascript">

```javascript
// index.mjs
import {
  McpServer,
  ResourceTemplate,
} from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";

// Create an MCP server
const server = new McpServer({
  name: "Weather Service",
  version: "1.0.0",
});

// Tool implementation
server.tool("get_weather", { location: z.string() }, async ({ location }) => ({
  content: [
    {
      type: "text",
      text: `Weather in ${location}: Sunny, 72Â°F`,
    },
  ],
}));

// Resource implementation
server.resource(
  "weather",
  new ResourceTemplate("weather://{location}", { list: undefined }),
  async (uri, { location }) => ({
    contents: [
      {
        uri: uri.href,
        text: `Weather data for ${location}: Sunny, 72Â°F`,
      },
    ],
  })
);

// Prompt implementation
server.prompt(
  "weather_report",
  { location: z.string() },
  async ({ location }) => ({
    messages: [
      {
        role: "assistant",
        content: {
          type: "text",
          text: "You are a weather reporter.",
        },
      },
      {
        role: "user",
        content: {
          type: "text",
          text: `Weather report for ${location}?`,
        },
      },
    ],
  })
);

// Run the server
const transport = new StdioServerTransport();
await server.connect(transport);
```

ã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã—ãŸã‚‰ã€ã‚µãƒ¼ãƒãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¦èµ·å‹•ã§ãã¾ã™ã€‚

```bash
npx @modelcontextprotocol/inspector node ./index.mjs
```

</hfoption>
</hfoptions>

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ•ã‚¡ã‚¤ãƒ«`server.py`ã‚’å®Ÿè¡Œã™ã‚‹é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ãŒåˆæœŸåŒ–ã•ã‚Œã€ä»¥ä¸‹ã®å‡ºåŠ›ãŒãƒ­ã‚°ã«è¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```bash
Starting MCP inspector...
âš™ï¸ Proxy server listening on port 6277
Spawned stdio transport
Connected MCP client to backing server transport
Created web app transport
Set up MCP proxy
ğŸ” MCP Inspector is up and running at http://127.0.0.1:6274 ğŸš€
```

ãã®å¾Œã€[http://127.0.0.1:6274](http://127.0.0.1:6274)ã§MCP Inspectorã‚’é–‹ã„ã¦ã€ã‚µãƒ¼ãƒãƒ¼ã®æ©Ÿèƒ½ã‚’è¦‹ã¦ã€ãã‚Œã‚‰ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒˆã§ãã¾ã™ã€‚

UIã‚’é€šã˜ã¦ã‚µãƒ¼ãƒãƒ¼ã®æ©Ÿèƒ½ã¨ãã‚Œã‚‰ã‚’å‘¼ã³å‡ºã™æ©Ÿèƒ½ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

![MCP Inspector](https://huggingface.co/datasets/mcp-course/images/resolve/main/unit1/6.png)

## MCP SDK

MCPã¯è¨€èªéä¾å­˜ã«è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€ã„ãã¤ã‹ã®äººæ°—ã®ã‚ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªå‘ã‘ã®å…¬å¼SDKãŒåˆ©ç”¨å¯èƒ½ã§ã™ï¼š

| è¨€èª   | ãƒªãƒã‚¸ãƒˆãƒª                                                                                               | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼       | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹           |
| ---------- | -------------------------------------------------------------------------------------------------------- | ------------------- | ---------------- |
| TypeScript | [github.com/modelcontextprotocol/typescript-sdk](https://github.com/modelcontextprotocol/typescript-sdk) | Anthropic           | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–           |
| Python     | [github.com/modelcontextprotocol/python-sdk](https://github.com/modelcontextprotocol/python-sdk)         | Anthropic           | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–           |
| Java       | [github.com/modelcontextprotocol/java-sdk](https://github.com/modelcontextprotocol/java-sdk)             | Spring AI (VMware)  | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–           |
| Kotlin     | [github.com/modelcontextprotocol/kotlin-sdk](https://github.com/modelcontextprotocol/kotlin-sdk)         | JetBrains           | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–           |
| C#         | [github.com/modelcontextprotocol/csharp-sdk](https://github.com/modelcontextprotocol/csharp-sdk)         | Microsoft           | ã‚¢ã‚¯ãƒ†ã‚£ãƒ– (ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼) |
| Swift      | [github.com/modelcontextprotocol/swift-sdk](https://github.com/modelcontextprotocol/swift-sdk)           | loopwork-ai         | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–           |
| Rust       | [github.com/modelcontextprotocol/rust-sdk](https://github.com/modelcontextprotocol/rust-sdk)             | Anthropic/Community | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–           |
| Dart       | [https://github.com/leehack/mcp_dart](https://github.com/leehack/mcp_dart)                               | Flutter Community   | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–           |

ã“ã‚Œã‚‰ã®SDKã¯ã€MCPãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¨ã®ä½œæ¥­ã‚’ç°¡ç´ åŒ–ã™ã‚‹è¨€èªå›ºæœ‰ã®æŠ½è±¡åŒ–ã‚’æä¾›ã—ã€ä½ãƒ¬ãƒ™ãƒ«ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«è©³ç´°ã‚’æ‰±ã†ã“ã¨ãªãã€ã‚µãƒ¼ãƒãƒ¼ã‚„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ã«é›†ä¸­ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

MCPã§ã§ãã‚‹ã“ã¨ã®è¡¨é¢ã‚’ã‹ã˜ã£ãŸã ã‘ã§ã™ãŒã€ã™ã§ã«åŸºæœ¬çš„ãªã‚µãƒ¼ãƒãƒ¼ãŒå‹•ä½œã—ã¦ã„ã¾ã™ã€‚å®Ÿéš›ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦æ¥ç¶šã—ã¦ã„ã¾ã™ã€‚

æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€LLMã‹ã‚‰ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
