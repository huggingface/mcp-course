# בניית לקוחות MCP

בסעיף זה, ניצור לקוחות שיכולים לתקשר עם שרת ה-MCP שלנו באמצעות שפות תכנות שונות. נממש גם לקוח JavaScript באמצעות HuggingFace.js וגם לקוח Python באמצעות smolagents.

## הגדרת לקוחות MCP

פריסה יעילה של שרתי ולקוחות MCP דורשת הגדרה נכונה. מפרט ה-MCP עדיין מתפתח, כך ששיטות ההגדרה כפופות לאבולוציה. נתמקד בשיטות העבודה המומלצות הנוכחיות להגדרה.

### קבצי הגדרה של MCP

מארחי MCP משתמשים בקבצי הגדרה לניהול חיבורי שרת. קבצים אלה מגדירים אילו שרתים זמינים וכיצד להתחבר אליהם.

קבצי ההגדרה הם מאוד פשוטים, קלים להבנה, ועקביים בין מארחי MCP עיקריים.

#### מבנה `mcp.json`

קובץ ההגדרה הסטנדרטי ל-MCP נקרא `mcp.json`. הנה המבנה הבסיסי:

```json
{
  "servers": [
    {
      "name": "שרת MCP",
      "transport": {
        "type": "sse",
        "url": "http://localhost:7860/gradio_api/mcp/sse"
      }
    }
  ]
}
```

בדוגמה זו, יש לנו שרת יחיד מוגדר להשתמש בתעבורת SSE, המתחבר לשרת Gradio מקומי הפועל בפורט 7860.

<Tip>

התחברנו לאפליקציית Gradio דרך תעבורת SSE כי אנחנו מניחים שהאפליקציה פועלת בשרת מרוחק. עם זאת, אם אתה רוצה להתחבר לסקריפט מקומי, תעבורת `stdio` במקום תעבורת `sse` היא אפשרות טובה יותר.

</Tip>

#### הגדרה עבור תעבורת HTTP+SSE

עבור שרתים מרוחקים המשתמשים בתעבורת HTTP+SSE, ההגדרה כוללת את כתובת ה-URL של השרת:

```json
{
  "servers": [
    {
      "name": "שרת MCP מרוחק",
      "transport": {
        "type": "sse",
        "url": "https://example.com/gradio_api/mcp/sse"
      }
    }
  ]
}
```

הגדרה זו מאפשרת ללקוח ממשק המשתמש שלך לתקשר עם שרת ה-MCP של Gradio באמצעות פרוטוקול MCP, ומאפשרת אינטגרציה חלקה בין ה-frontend שלך לבין שירות ה-MCP.

## הגדרת לקוח MCP לממשק משתמש

כאשר עובדים עם שרתי MCP של Gradio, אתה יכול להגדיר את לקוח ממשק המשתמש שלך להתחבר לשרת באמצעות פרוטוקול ה-MCP. הנה איך להגדיר זאת:

### הגדרה בסיסית

צור קובץ חדש בשם `config.json` עם ההגדרה הבאה:

```json
{
  "mcpServers": {
    "mcp": {
      "url": "http://localhost:7860/gradio_api/mcp/sse"
    }
  }
}
```

הגדרה זו מאפשרת ללקוח ממשק המשתמש שלך לתקשר עם שרת ה-MCP של Gradio באמצעות פרוטוקול ה-MCP, ומאפשרת אינטגרציה חלקה בין ה-frontend שלך לבין שירות ה-MCP.
