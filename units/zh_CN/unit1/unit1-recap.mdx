# 第一单元回顾

## 模型上下文协议 (MCP)

MCP 是一个标准化协议，旨在将 AI 模型与外部工具、数据源和环境相连接。它通过实现互操作性和实时信息访问，解决现有 AI 系统的局限性。

## 核心概念

### 客户端-服务端架构
MCP 采用客户端-服务端模型，客户端负责管理用户与服务端之间的通信。这种架构支持模块化设计，允许轻松添加新服务端而无需修改现有宿主。

### 组件
#### 宿主 (Host)
面向用户的 AI 应用程序，作为最终用户的交互接口。

##### 客户端 (Client)
宿主应用中的组件，负责管理与特定 MCP 服务端的通信。客户端与服务端保持 1:1 连接，并处理协议层面的细节。

#### 服务端 (Server)
通过 MCP 协议提供工具、数据源或服务的外部程序。服务端作为现有功能的轻量级封装层。

### 能力类型
#### 工具 (Tools)
可执行的功能函数（如发送消息、查询 API）。工具通常由模型控制，因具有副作用操作能力需要用户批准。

#### 资源 (Resources)
用于上下文检索的只读数据源，无需复杂计算。资源由应用控制，设计目标类似于 REST API 中的 GET 端点。

#### 提示模板 (Prompts)
预定义的模板或工作流，用于引导用户、AI 模型与可用能力之间的交互。提示由用户控制，用于设定交互上下文。

#### 采样 (Sampling)
服务端发起的 LLM 处理请求，支持服务端驱动的智能体行为和潜在递归/多步交互。采样操作通常需要用户批准。

### 通信协议
MCP 协议使用 JSON-RPC 2.0 作为客户端与服务端间的消息格式。支持两种主要传输机制：stdio（本地通信）和 HTTP+SSE（远程通信）。消息类型包含请求、响应和通知。

### 发现机制
MCP 允许客户端通过列表方法（如 `tools/list`）动态发现可用工具、资源和提示模板。这种动态发现机制使客户端无需硬编码服务端功能知识即可适配不同服务端的能力。

### MCP SDK
官方提供多种编程语言的 SDK 用于实现 MCP 客户端和服务端。这些 SDK 处理协议通信、能力注册和错误处理，简化开发流程。

### Gradio 集成
Gradio 支持快速创建 Web 界面，将能力通过 MCP 协议暴露，使其同时可供人类和 AI 模型访问。该集成以最小代码量提供人机友好的双界面支持。